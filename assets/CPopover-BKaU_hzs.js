import{r as o,_ as U,u as z,S as G,R as n,g as i,T as J,h as K,P as e,U as Q,V as W}from"./index-CRL0QlJC.js";import{g as X,e as Y}from"./getRTLPlacement-DJVJrOxr.js";var N=o.forwardRef(function(t,C){var S=t.children,p=t.animation,L=p===void 0?!0:p,M=t.className,H=t.container,O=t.content,d=t.delay,c=d===void 0?0:d,m=t.fallbackPlacements,x=m===void 0?["top","right","bottom","left"]:m,v=t.offset,F=v===void 0?[0,8]:v,y=t.onHide,h=t.onShow,b=t.placement,q=b===void 0?"top":b,V=t.title,g=t.trigger,a=g===void 0?"click":g,f=t.visible,_=U(t,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","title","trigger","visible"]),r=o.useRef(null),l=o.useRef(null),j=z(C,r),P=o.useRef("popover".concat(Math.floor(Math.random()*1e6))),w=G(),A=w.initPopper,k=w.destroyPopper,R=o.useState(!1),B=R[0],E=R[1],T=o.useState(f),u=T[0],s=T[1],D=typeof c=="number"?{show:c,hide:c}:c,I={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:x}},{name:"offset",options:{offset:F}}],placement:X(q,l.current)};return o.useEffect(function(){s(f)},[f]),o.useEffect(function(){return u&&(E(!0),r.current&&(r.current.classList.remove("fade","show"),k()),setTimeout(function(){l.current&&r.current&&(L&&r.current.classList.add("fade"),A(l.current,r.current,I),r.current.style.removeProperty("display"),r.current.classList.add("show"),h&&h())},D.show)),function(){r.current&&(r.current.classList.remove("show"),y&&y(),Y(function(){r.current&&(r.current.style.display="none"),k(),E(!1)},r.current))}},[u]),n.createElement(n.Fragment,null,n.cloneElement(S,i(i(i(i(i({},u&&{"aria-describedby":P.current}),{ref:l}),(a==="click"||a.includes("click"))&&{onClick:function(){return s(!u)}}),(a==="focus"||a.includes("focus"))&&{onFocus:function(){return s(!0)},onBlur:function(){return s(!1)}}),(a==="hover"||a.includes("hover"))&&{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}})),n.createElement(J,{container:H,portal:!0},B&&n.createElement("div",i({className:K("popover","bs-popover-auto",M),id:P.current,ref:j,role:"tooltip",style:{display:"none"}},_),n.createElement("div",{className:"popover-arrow"}),n.createElement("div",{className:"popover-header"},V),n.createElement("div",{className:"popover-body"},O))))});N.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:Q,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),title:e.oneOfType([e.string,e.node]),trigger:W,visible:e.bool};N.displayName="CPopover";export{N as C};
